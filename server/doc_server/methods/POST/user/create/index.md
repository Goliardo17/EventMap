# Метод создания новой учетной записи

[К справочнику методов](../../../index.md)

### Тип и адрес
POST/user/create

### Доступность
Статус: общий

#### Связанные сущности
|entity|discription|link|
|-|-|-|
|`User`|Пользователь|[read more]()|

### Входные параметры

#### Описание

```
  body: {
    name: string,
    sureName: string,
    email: string,
    password: string,
    birthday: string,
    categories: number[],
  }
```

#### Используемые поля

|name|discription|validation|require|default|
|-|-|-|-|-|
|`name`|Имя пользователя|`string`|`yes`|`none`|
|`sureName`|Фамилия пользователя|`string`|`no`|`''`|
|`email`|Адресс электронной почты учетной записи|`string`|`yes`|`none`|
|`password`|Пароль для входа в учетную запись|`string`|`yes`|`none`|
|`birthday`|Дата рождения|`string`|`yes`|`none`|
|`ctegories`|Категории интересов|`numer[]`|`yes`|`none`|

#### Логика
1. Проверить валидацию формы
> - Условие: ошибка валидации
> - Выполнить: `#Err1`
> 
2. Проверить наличие пользователя с таким же `email` в [Таблице авторизации][1]
> - Условие: такой email уже существует в БД
> - Выполнить: `#Err2`
> 
3. Хешировать пароль
4. Записать в [Таблицу авторизации][1] поля `email` и `password`
6. Получить из [Таблицы авторизации][1] поля `id`
5. Записать в [Таблицу данных о пользователе][2] поля `id_user`, `name`, `sureName`, `birthday`
7. Записать в [Таблицу предпочтений пользователя][3] поля `id_user`, `id_catigory`
8. Сформировать ответ
> - Статус: `204`

### Обработка ошибок

[К справочнику методов](../../../index.md)

<!-- TODO: Таблица авторизации -->
[1]: ../../../index.md
<!-- TODO: Таблица информации о пользователе -->
[2]: ../../../index.md
<!-- TODO: Таблица предпочтений пользователя -->
[3]: ../../../index.md